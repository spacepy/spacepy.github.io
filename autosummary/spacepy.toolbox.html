<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>spacepy.toolbox &#8212; SpacePy v0.7.0 Manual</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css?v=92e3d466" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/documentation_options.js?v=fe7df9b0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/spacepy_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="spacepy.toolbox.LinkExtracter" href="spacepy.toolbox.LinkExtracter.html" />
    <link rel="prev" title="spacepy.time.Ticktock" href="spacepy.time.Ticktock.html" /> 
  </head><body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/spacepy_logo.jpg" border="0" alt="spacepy_logo"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spacepy.toolbox.LinkExtracter.html" title="spacepy.toolbox.LinkExtracter"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="spacepy.time.Ticktock.html" title="spacepy.time.Ticktock"
             accesskey="P">previous</a> |</li>
        <li><a href="https://spacepy.github.io/"">homepage</a>|&nbsp;</li>
        <li><a href="https://github.com/spacepy/spacepy">development</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="spacepy.html" accesskey="U">spacepy</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">spacepy.toolbox</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-spacepy.toolbox">
<span id="spacepy-toolbox"></span><h1>spacepy.toolbox<a class="headerlink" href="#module-spacepy.toolbox" title="Link to this heading">¶</a></h1>
<p>Toolbox of various functions and generic utilities.</p>
<p>Authors: Steve Morley, Jon Niehof, Brian Larsen, Josef Koller, Dan Welling
Institution: Los Alamos National Laboratory
Contact: <a class="reference external" href="mailto:smorley&#37;&#52;&#48;lanl&#46;gov">smorley<span>&#64;</span>lanl<span>&#46;</span>gov</a>, <a class="reference external" href="mailto:jniehof&#37;&#52;&#48;lanl&#46;gov">jniehof<span>&#64;</span>lanl<span>&#46;</span>gov</a>, <a class="reference external" href="mailto:balarsen&#37;&#52;&#48;lanl&#46;gov">balarsen<span>&#64;</span>lanl<span>&#46;</span>gov</a>, <a class="reference external" href="mailto:jkoller&#37;&#52;&#48;lanl&#46;gov">jkoller<span>&#64;</span>lanl<span>&#46;</span>gov</a>, <a class="reference external" href="mailto:dwelling&#37;&#52;&#48;lanl&#46;gov">dwelling<span>&#64;</span>lanl<span>&#46;</span>gov</a>
Los Alamos National Laboratory</p>
<p>Copyright 2010 Los Alamos National Security, LLC.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.arraybin" title="spacepy.toolbox.arraybin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arraybin</span></code></a>(array, bins)</p></td>
<td><p>Split a sequence into subsequences based on value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.assemble" title="spacepy.toolbox.assemble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assemble</span></code></a>(fln_pattern, outfln[, sortkey, verbose])</p></td>
<td><p>assembles all pickled files matching fln_pattern into single file and save as outfln.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.binHisto" title="spacepy.toolbox.binHisto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">binHisto</span></code></a>(data[, verbose])</p></td>
<td><p>Calculates bin width and number of bins for histogram using Freedman-Diaconis rule, if rule fails, defaults to square-root method</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.bin_center_to_edges" title="spacepy.toolbox.bin_center_to_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bin_center_to_edges</span></code></a>(centers)</p></td>
<td><p>Convert a list of bin centers to their edges</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.bin_edges_to_center" title="spacepy.toolbox.bin_edges_to_center"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bin_edges_to_center</span></code></a>(edges)</p></td>
<td><p>Convert a list of bin edges to their centers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.bootHisto" title="spacepy.toolbox.bootHisto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bootHisto</span></code></a>(data[, inter, n, seed, plot, ...])</p></td>
<td><p>Bootstrap confidence intervals for a histogram.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.dictree" title="spacepy.toolbox.dictree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dictree</span></code></a>(in_dict[, verbose, spaces, levels, ...])</p></td>
<td><p>pretty print a dictionary tree</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.dist_to_list" title="spacepy.toolbox.dist_to_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dist_to_list</span></code></a>(func, length[, min, max])</p></td>
<td><p>Convert a probability distribution function to a list of values</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.do_with_timeout" title="spacepy.toolbox.do_with_timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">do_with_timeout</span></code></a>(timeout, target, *args, **kwargs)</p></td>
<td><p>Execute a function (or method) with a timeout.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.eventTimer" title="spacepy.toolbox.eventTimer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eventTimer</span></code></a>(Event, Time1)</p></td>
<td><p>Times an event then prints out the time and the name of the event, nice for debugging and seeing that the code is progressing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.geomspace" title="spacepy.toolbox.geomspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geomspace</span></code></a>(start[, ratio, stop, num])</p></td>
<td><p>Returns geometrically spaced numbers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.getNamedPath" title="spacepy.toolbox.getNamedPath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNamedPath</span></code></a>(name)</p></td>
<td><p>Return the full path of a parent directory with name as the leaf</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.get_url" title="spacepy.toolbox.get_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_url</span></code></a>(url[, outfile, reporthook, cached, ...])</p></td>
<td><p>Read data from a URL</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.human_sort" title="spacepy.toolbox.human_sort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">human_sort</span></code></a>(l)</p></td>
<td><p>Sort the given list in the way that humans expect.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.hypot" title="spacepy.toolbox.hypot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hypot</span></code></a>(*args)</p></td>
<td><p>compute the N-dimensional hypot of an iterable or many arguments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.indsFromXrange" title="spacepy.toolbox.indsFromXrange"><code class="xref py py-obj docutils literal notranslate"><span class="pre">indsFromXrange</span></code></a>(inxrange)</p></td>
<td><p>return the start and end indices implied by a range, useful when range is zero-length</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.interpol" title="spacepy.toolbox.interpol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpol</span></code></a>(newx, x, y[, wrap])</p></td>
<td><p>1-D linear interpolation with interpolation of hours/longitude</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.interweave" title="spacepy.toolbox.interweave"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interweave</span></code></a>(a, b)</p></td>
<td><p>given two array-like variables interweave them together.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.intsolve" title="spacepy.toolbox.intsolve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intsolve</span></code></a>(func, value[, start, stop, maxit])</p></td>
<td><p>Find the function input such that definite integral is desired value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.isview" title="spacepy.toolbox.isview"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isview</span></code></a>(array1[, array2])</p></td>
<td><p>Returns if an object is a view of another object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.linspace" title="spacepy.toolbox.linspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">linspace</span></code></a>(min, max, num, **kwargs)</p></td>
<td><p>Returns linear-spaced bins.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.loadpickle" title="spacepy.toolbox.loadpickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadpickle</span></code></a>(fln)</p></td>
<td><p>load a pickle and return content as dictionary</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.logspace" title="spacepy.toolbox.logspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logspace</span></code></a>(min, max, num, **kwargs)</p></td>
<td><p>Returns log-spaced bins.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.medAbsDev" title="spacepy.toolbox.medAbsDev"><code class="xref py py-obj docutils literal notranslate"><span class="pre">medAbsDev</span></code></a>(series[, scale])</p></td>
<td><p>Calculate median absolute deviation of a given input series</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.mlt2rad" title="spacepy.toolbox.mlt2rad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mlt2rad</span></code></a>(mlt[, midnight])</p></td>
<td><p>Convert mlt values to radians for polar plotting transform mlt angles to radians from -pi to pi referenced from noon by default</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.normalize" title="spacepy.toolbox.normalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize</span></code></a>(vec[, low, high])</p></td>
<td><p>Given an input vector normalize the vector to a given range</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.pmm" title="spacepy.toolbox.pmm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pmm</span></code></a>(*args)</p></td>
<td><p>print min and max of input arrays</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.poisson_fit" title="spacepy.toolbox.poisson_fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">poisson_fit</span></code></a>(data[, initial, method])</p></td>
<td><p>Fit a Poisson distribution to data using the method and initial guess provided.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.progressbar" title="spacepy.toolbox.progressbar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">progressbar</span></code></a>(count, blocksize, totalsize[, text])</p></td>
<td><p>print a progress bar with urllib.urlretrieve reporthook functionality</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.query_yes_no" title="spacepy.toolbox.query_yes_no"><code class="xref py py-obj docutils literal notranslate"><span class="pre">query_yes_no</span></code></a>(question[, default])</p></td>
<td><p>Ask a yes/no question via raw_input() and return their answer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.rad2mlt" title="spacepy.toolbox.rad2mlt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rad2mlt</span></code></a>(rad[, midnight])</p></td>
<td><p>Convert radians values to mlt transform radians from -pi to pi to mlt referenced from noon by default</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.savepickle" title="spacepy.toolbox.savepickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">savepickle</span></code></a>(fln, dict[, compress])</p></td>
<td><p>save dictionary variable dict to a pickle with filename fln</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.tCommon" title="spacepy.toolbox.tCommon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tCommon</span></code></a>(ts1, ts2[, mask_only])</p></td>
<td><p>Finds the elements in a list of datetime objects present in another</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.tOverlap" title="spacepy.toolbox.tOverlap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlap</span></code></a>(ts1, ts2, *args, **kwargs)</p></td>
<td><p>Finds the overlapping elements in two lists of datetime objects</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.tOverlapHalf" title="spacepy.toolbox.tOverlapHalf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlapHalf</span></code></a>(ts1, ts2[, presort])</p></td>
<td><p>Find overlapping elements in two lists of datetime objects</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.thread_job" title="spacepy.toolbox.thread_job"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thread_job</span></code></a>(job_size, thread_count, target, ...)</p></td>
<td><p>Split a job into subjobs and run a thread for each</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.thread_map" title="spacepy.toolbox.thread_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thread_map</span></code></a>(target, iterable[, thread_count])</p></td>
<td><p>Apply a function to every element of a list, in separate threads</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.timeout_check_call" title="spacepy.toolbox.timeout_check_call"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeout_check_call</span></code></a>(timeout, *args, **kwargs)</p></td>
<td><p>Call a subprocess with a timeout.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.unique_columns" title="spacepy.toolbox.unique_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unique_columns</span></code></a>(inval[, axis])</p></td>
<td><p>Given a multidimensional input return the unique rows or columns along the given axis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spacepy.toolbox.update" title="spacepy.toolbox.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>([all, QDomni, omni, omni2, leapsecs, ...])</p></td>
<td><p>Download and update local database for omni, leapsecs etc</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.windowMean" title="spacepy.toolbox.windowMean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">windowMean</span></code></a>(data[, time, winsize, overlap, ...])</p></td>
<td><p>Windowing mean function, window overlap is user defined</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="spacepy.toolbox.LinkExtracter.html#spacepy.toolbox.LinkExtracter" title="spacepy.toolbox.LinkExtracter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LinkExtracter</span></code></a>(*[, convert_charrefs])</p></td>
<td><p>Finds all links in a HTML page, useful for crawling.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Exceptions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#spacepy.toolbox.TimeoutError" title="spacepy.toolbox.TimeoutError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeoutError</span></code></a></p></td>
<td><p>Raised when a time-limited process times out</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.arraybin">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">arraybin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#arraybin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.arraybin" title="Link to this definition">¶</a></dt>
<dd><p>Split a sequence into subsequences based on value.</p>
<p>Given a sequence of values and a sequence of values representing the
division between bins, return the indices grouped by bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>array</strong><span class="classifier">array_like</span></dt><dd><p>the input sequence to slice, must be sorted in ascending order</p>
</dd>
<dt><strong>bins</strong><span class="classifier">array_like</span></dt><dd><dl class="simple">
<dt>dividing lines between bins. Number of bins is len(bins)+1,</dt><dd><p>value that exactly equal a dividing value are assigned
to the higher bin</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>indices for each bin (list of lists)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">arraybin</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="p">[</span><span class="mf">4.2</span><span class="p">])</span>
<span class="go">[[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.assemble">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">assemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fln_pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfln</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ticks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#assemble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.assemble" title="Link to this definition">¶</a></dt>
<dd><p>assembles all pickled files matching fln_pattern into single file and
save as outfln. Pattern may contain simple shell-style wildcards *? a la fnmatch
file will be assembled along time axis given by Ticktock (key: ‘ticks’) in dictionary
If sortkey = None, then nothing will be sorted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fln_pattern</strong><span class="classifier">string</span></dt><dd><p>pattern to match filenames</p>
</dd>
<dt><strong>outfln</strong><span class="classifier">string</span></dt><dd><p>filename to save combined files to</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">dict</span></dt><dd><p>dictionary with combined values</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ticks&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;ticks&#39;</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;ticks&#39;</span><span class="p">:[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">savepickle</span><span class="p">(</span><span class="s1">&#39;input_files_2001.pkl&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">savepickle</span><span class="p">(</span><span class="s1">&#39;input_files_2002.pkl&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">savepickle</span><span class="p">(</span><span class="s1">&#39;input_files_2004.pkl&#39;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">assemble</span><span class="p">(</span><span class="s1">&#39;input_files_*.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;combined_input.pkl&#39;</span><span class="p">)</span>
<span class="go">(&#39;adding &#39;, &#39;input_files_2001.pkl&#39;)</span>
<span class="go">(&#39;adding &#39;, &#39;input_files_2002.pkl&#39;)</span>
<span class="go">(&#39;adding &#39;, &#39;input_files_2004.pkl&#39;)</span>
<span class="go">(&#39;\n writing: &#39;, &#39;combined_input.pkl&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">{&#39;ticks&#39;: array([1, 2, 3, 4, 5, 6, 7, 8, 9])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.binHisto">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">binHisto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#binHisto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.binHisto" title="Link to this definition">¶</a></dt>
<dd><p>Calculates bin width and number of bins for histogram using Freedman-Diaconis rule, if rule fails, defaults to square-root method</p>
<dl class="simple">
<dt>The Freedman-Diaconis method is detailed in:</dt><dd><p>Freedman, D., and P. Diaconis (1981), On the histogram as a density estimator: L2 theory, Z. Wahrscheinlichkeitstheor. Verw. Geb., 57, 453–476</p>
</dd>
<dt>and is also described by:</dt><dd><p>Wilks, D. S. (2006), Statistical Methods in the Atmospheric Sciences, 2nd ed.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">array_like</span></dt><dd><p>list/array of data values</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">boolean (optional)</span></dt><dd><p>print out some more information</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">tuple</span></dt><dd><p>calculated width of bins using F-D rule, number of bins (nearest integer) to use for histogram</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html#matplotlib.pyplot.hist" title="(in Matplotlib v3.9.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.pyplot.hist</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span><span class="o">,</span> <span class="nn">spacepy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">8675301</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binw</span><span class="p">,</span> <span class="n">nbins</span> <span class="o">=</span> <span class="n">spacepy</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">binHisto</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nbins</span><span class="p">)</span>
<span class="go">19</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">nbins</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;step&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.bin_center_to_edges">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">bin_center_to_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#bin_center_to_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.bin_center_to_edges" title="Link to this definition">¶</a></dt>
<dd><p>Convert a list of bin centers to their edges</p>
<p>Given a list of center values for a set of bins, finds the start and
end value for each bin. (start of bin n+1 is assumed to be end of bin n).
Useful for e.g. matplotlib.pyplot.pcolor.</p>
<p>Edge between bins n and n+1 is arithmetic mean of the center of n
and n+1; edge below bin 0 and above last bin are established to make
these bins symmetric about their center value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>centers</strong><span class="classifier">list</span></dt><dd><p>list of center values for bins</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>list of edges for bins</p>
</dd>
<dt><strong>note:</strong> returned list will be one element longer than centers</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">bin_center_to_edges</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[0.5, 1.5, 2.5, 3.5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.bin_edges_to_center">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">bin_edges_to_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#bin_edges_to_center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.bin_edges_to_center" title="Link to this definition">¶</a></dt>
<dd><p>Convert a list of bin edges to their centers</p>
<p>Given a list of edge values for a set of bins, finds the center of each bin.
(start of bin n+1 is assumed to be end of bin n).</p>
<p>Center of bin n is arithmetic mean of the edges of the adjacent bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>edges</strong><span class="classifier">list</span></dt><dd><p>list of edge values for bins</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>array of centers for bins</p>
</dd>
<dt><strong>note:</strong> returned array will be one element shorter than edges</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">bin_center_to_edges</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[0.5, 1.5, 2.5, 3.5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.bootHisto">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">bootHisto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#bootHisto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.bootHisto" title="Link to this definition">¶</a></dt>
<dd><p>Bootstrap confidence intervals for a histogram.</p>
<p>All other keyword arguments are passed to <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.histogram.html#numpy.histogram" title="(in NumPy v2.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.histogram()</span></code></a>
or <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.bar.html#matplotlib.pyplot.bar" title="(in Matplotlib v3.9.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.bar()</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.3: </span>This argument pass-through did not work in earlier versions of
SpacePy.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">array_like</span></dt><dd><p>list/array of data values</p>
</dd>
<dt><strong>inter</strong><span class="classifier">float (optional; default 90)</span></dt><dd><p>percentage confidence interval to return. Default 90% (i.e.
lower CI will be 5% and upper will be 95%)</p>
</dd>
<dt><strong>n</strong><span class="classifier">int (optional; default 1000)</span></dt><dd><p>number of bootstrap iterations</p>
</dd>
<dt><strong>seed</strong><span class="classifier">int (optional)</span></dt><dd><p>Optional seed for the random number generator. If not
specified; numpy generator will not be reseeded.</p>
</dd>
<dt><strong>plot</strong><span class="classifier">bool (optional)</span></dt><dd><p>Plot the result. Plots if True or <code class="docutils literal notranslate"><span class="pre">target</span></code>, <code class="docutils literal notranslate"><span class="pre">figsize</span></code>,
or <code class="docutils literal notranslate"><span class="pre">loc</span></code> specified.</p>
</dd>
<dt><strong>target</strong><span class="classifier">(optional)</span></dt><dd><p>Target on which to plot the figure (figure or axes). See
<a class="reference internal" href="spacepy.plot.utils.html#spacepy.plot.utils.set_target" title="spacepy.plot.utils.set_target"><code class="xref py py-func docutils literal notranslate"><span class="pre">spacepy.plot.utils.set_target()</span></code></a> for details.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple (optional)</span></dt><dd><p>Passed to <a class="reference internal" href="spacepy.plot.utils.html#spacepy.plot.utils.set_target" title="spacepy.plot.utils.set_target"><code class="xref py py-func docutils literal notranslate"><span class="pre">spacepy.plot.utils.set_target()</span></code></a>.</p>
</dd>
<dt><strong>loc</strong><span class="classifier">int (optional)</span></dt><dd><p>Passed to <a class="reference internal" href="spacepy.plot.utils.html#spacepy.plot.utils.set_target" title="spacepy.plot.utils.set_target"><code class="xref py py-func docutils literal notranslate"><span class="pre">spacepy.plot.utils.set_target()</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">tuple</span></dt><dd><p>tuple of bin_edges, low, high, sample[, bars]. Where
<code class="docutils literal notranslate"><span class="pre">bin_edges</span></code> is the edges of the bins used; <code class="docutils literal notranslate"><span class="pre">low</span></code> is the
histogram with the value for each bin from the bottom of that
bin’s confidence interval; <code class="docutils literal notranslate"><span class="pre">high</span></code> similarly for the top;
<code class="docutils literal notranslate"><span class="pre">sample</span></code> is the histogram of the input sample without
resampling. If plotting, also returned is <code class="docutils literal notranslate"><span class="pre">bars</span></code>, the
container object returned from matplotlib.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.binHisto" title="spacepy.toolbox.binHisto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">binHisto</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="spacepy.plot.utils.html#spacepy.plot.utils.set_target" title="spacepy.plot.utils.set_target"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spacepy.plot.utils.set_target</span></code></a></dt><dd></dd>
<dt><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.histogram.html#numpy.histogram" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.histogram</span></code></a></dt><dd></dd>
<dt><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html#matplotlib.pyplot.hist" title="(in Matplotlib v3.9.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.pyplot.hist</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.2.1.</span></p>
</div>
<p>The confidence intervals are calculated for each bin individually and thus
the resulting low/high histograms may not have actually occurred in the
calculation from the surrogates. If using a probability density histogram,
this can have “interesting” implications for interpretation.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy.random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bin_edges</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">bars</span> <span class="o">=</span> <span class="n">spacepy</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">bootHisto</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">data</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../_downloads/2edfe3d4f6c46169f94be513491dd3b8/spacepy-toolbox-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../_downloads/b1c48034e3632d8f10b3dd6f2238221f/spacepy-toolbox-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/064d52a89e7b7d7265d664e250a5164e/spacepy-toolbox-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/821b44ad9449186b451b34cb385e42c6/spacepy-toolbox-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../_images/spacepy-toolbox-1.png" class="plot-directive" src="../_images/spacepy-toolbox-1.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.dictree">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">dictree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#dictree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.dictree" title="Link to this definition">¶</a></dt>
<dd><p>pretty print a dictionary tree</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>in_dict</strong><span class="classifier">dict</span></dt><dd><p>a complex dictionary (with substructures)</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default False</span></dt><dd><p>print more info</p>
</dd>
<dt><strong>spaces</strong><span class="classifier">str (optional)</span></dt><dd><p>string will added for every line</p>
</dd>
<dt><strong>levels</strong><span class="classifier">int (optional)</span></dt><dd><p>number of levels to recurse through (True, the default,  means all)</p>
</dd>
<dt><strong>attrs</strong><span class="classifier">bool, default False</span></dt><dd><p>display information for attributes</p>
</dd>
<dt><strong>print_out</strong><span class="classifier">bool, default True</span></dt><dd><blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.5.0.</span></p>
</div>
</div></blockquote>
<p>Print output (original behavior); if <code class="docutils literal notranslate"><span class="pre">False</span></code>, return the output.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>TypeError</dt><dd><p>Input does not have keys or attrs, cannot build tree.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;grade&#39;</span><span class="p">:{</span><span class="s1">&#39;level1&#39;</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;level2&#39;</span><span class="p">:[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span> <span class="s1">&#39;name&#39;</span><span class="p">:[</span><span class="s1">&#39;Mary&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;Chris&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">dictree</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">+</span>
<span class="go">|____grade</span>
<span class="go">     |____level1</span>
<span class="go">     |____level2</span>
<span class="go">|____name</span>
</pre></div>
</div>
<p>More complicated example using a datamodel:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spacepy</span> <span class="kn">import</span> <span class="n">datamodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">datamodel</span><span class="o">.</span><span class="n">dmarray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;cts/s&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;counts&#39;</span><span class="p">:</span> <span class="n">counts</span><span class="p">,</span> <span class="s1">&#39;PI&#39;</span><span class="p">:</span> <span class="s1">&#39;Dr Zog&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">dictree</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">+</span>
<span class="go">|____PI</span>
<span class="go">|____counts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">dictree</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">+</span>
<span class="go">|____PI (str [6])</span>
<span class="go">|____counts (spacepy.datamodel.dmarray (3,))</span>
<span class="go">    :|____units (str [5])</span>
</pre></div>
</div>
<p>Attributes of, e.g., a CDF or a datamodel type object (obj.attrs)
are denoted by a colon.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.dist_to_list">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">dist_to_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#dist_to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.dist_to_list" title="Link to this definition">¶</a></dt>
<dd><p>Convert a probability distribution function to a list of values</p>
<p>This is a deterministic way to produce a known-length list of values
matching a certain probability distribution. It is likely to be a closer
match to the distribution function than a random sampling from the
distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">callable</span></dt><dd><dl class="simple">
<dt>function to call for each possible value, returning</dt><dd><p>probability density at that value (does not need to be
normalized.)</p>
</dd>
</dl>
</dd>
<dt><strong>length</strong><span class="classifier">int</span></dt><dd><p>number of elements to return</p>
</dd>
<dt><strong>min</strong><span class="classifier">float</span></dt><dd><p>minimum value to possibly include</p>
</dd>
<dt><strong>max</strong><span class="classifier">float</span></dt><dd><p>maximum value to possibly include</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gauss</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">dist_to_list</span><span class="p">(</span><span class="n">gauss</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="o">-</span><span class="n">numpy</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">-16.45263...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">21</span><span class="p">)],</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">hold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">-</span> <span class="mf">10.0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2001</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="n">gauss</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.do_with_timeout">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">do_with_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#do_with_timeout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.do_with_timeout" title="Link to this definition">¶</a></dt>
<dd><p>Execute a function (or method) with a timeout.</p>
<p>Call the function (or method) <code class="docutils literal notranslate"><span class="pre">target</span></code>, with arguments <code class="docutils literal notranslate"><span class="pre">args</span></code> and
keyword arguments <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>. Normally return the return value
from <code class="docutils literal notranslate"><span class="pre">target</span></code>, but if <code class="docutils literal notranslate"><span class="pre">target</span></code> takes more than <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds
to execute, raises <code class="docutils literal notranslate"><span class="pre">TimeoutError</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is, at best, a blunt instrument. Exceptions from <code class="docutils literal notranslate"><span class="pre">target</span></code> may
not propagate properly (tracebacks will be hard to follow.) The
function which failed to time out may continue to execute until the
interpreter exits; trapping the TimeoutError and continuing normally
is not recommended.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>timeout</strong><span class="classifier">float</span></dt><dd><p>Timeout, in seconds.</p>
</dd>
<dt><strong>target</strong><span class="classifier">callable</span></dt><dd><dl class="simple">
<dt>Python callable (generally a function, may also be an</dt><dd><p>imported ctypes function) to run.</p>
</dd>
</dl>
</dd>
<dt><strong>args</strong><span class="classifier">sequence</span></dt><dd><p>Arguments to pass to <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>keyword arguments to pass to <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>out</dt><dd><p>return value of <code class="docutils literal notranslate"><span class="pre">target</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>TimeoutError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">target</span></code> does not return in <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">time_me_out</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">do_with_timeout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">time_me_out</span><span class="p">)</span> <span class="c1">#raises TimeoutError</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.eventTimer">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">eventTimer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Time1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#eventTimer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.eventTimer" title="Link to this definition">¶</a></dt>
<dd><p>Times an event then prints out the time and the name of the event,
nice for debugging and seeing that the code is progressing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Event</strong><span class="classifier">str</span></dt><dd><p>Name of the event, string is printed out by function</p>
</dd>
<dt><strong>Time1</strong><span class="classifier">time.time</span></dt><dd><p>the time to difference in the function</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Time2</strong><span class="classifier">time.time</span></dt><dd><p>the new time for the next call to EventTimer</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">eventTimer</span><span class="p">(</span><span class="s1">&#39;Test event finished&#39;</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="go">(&#39;4.40&#39;, &#39;Test event finished&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.geomspace">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">geomspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#geomspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.geomspace" title="Link to this definition">¶</a></dt>
<dd><p>Returns geometrically spaced numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">float</span></dt><dd><p>The starting value of the sequence.</p>
</dd>
<dt><strong>ratio</strong><span class="classifier">float (optional)</span></dt><dd><p>The ratio between subsequent points</p>
</dd>
<dt><strong>stop</strong><span class="classifier">float (optional)</span></dt><dd><p>End value, if this is selected <code class="docutils literal notranslate"><span class="pre">num</span></code> is overridden</p>
</dd>
<dt><strong>num</strong><span class="classifier">int (optional)</span></dt><dd><p>Number of samples to generate. Default is 50.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>seq</strong><span class="classifier">array</span></dt><dd><p>geometrically spaced sequence</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.linspace" title="spacepy.toolbox.linspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">linspace</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.logspace" title="spacepy.toolbox.logspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logspace</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>To get a geometric progression between 0.01 and 3 in 10 steps</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[0.01,</span>
<span class="go"> 0.018846716378431192,</span>
<span class="go"> 0.035519871824902655,</span>
<span class="go"> 0.066943295008216955,</span>
<span class="go"> 0.12616612944575134,</span>
<span class="go"> 0.23778172582285118,</span>
<span class="go"> 0.44814047465571644,</span>
<span class="go"> 0.84459764235318191,</span>
<span class="go"> 1.5917892219322083,</span>
<span class="go"> 2.9999999999999996]</span>
</pre></div>
</div>
<p>To get a geometric progression with a specified ratio, say 10</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[0.01, 0.10000000000000001, 1.0, 10.0, 100.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.getNamedPath">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">getNamedPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#getNamedPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.getNamedPath" title="Link to this definition">¶</a></dt>
<dd><p>Return the full path of a parent directory with name as the leaf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>the name of the parent directory to locate</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Run from a directory
/mnt/projects/dream/bin/Ephem
with ‘dream’ as the name, this function
would return ‘/mnt/projects/dream’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.get_url">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">get_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reporthook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepalive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#get_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.get_url" title="Link to this definition">¶</a></dt>
<dd><p>Read data from a URL</p>
<p>Open an HTTP URL, honoring the user agent as specified in the
SpacePy config file. Returns the data, optionally also writing
out to a file.</p>
<p>This is similar to the deprecated <code class="docutils literal notranslate"><span class="pre">urlretrieve</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5.0: </span>In earlier versions of SpacePy invalid combinations of cached and
outfile raised RuntimeError, changed to ValueError.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>url</strong><span class="classifier">str</span></dt><dd><p>The URL to open</p>
</dd>
<dt><strong>outfile</strong><span class="classifier">str (optional)</span></dt><dd><p>Full path to file to write data to</p>
</dd>
<dt><strong>reporthook</strong><span class="classifier">callable (optional)</span></dt><dd><p>Function for reporting progress; takes arguments of block
count, block size, and total size.</p>
</dd>
<dt><strong>cached</strong><span class="classifier">bool (optional)</span></dt><dd><p>Compare modification time of the URL to the modification time
of <code class="docutils literal notranslate"><span class="pre">outfile</span></code>; do not retrieve (and return None) unless
the URL is newer than the file. If set outfile is required.</p>
</dd>
<dt><strong>keepalive</strong><span class="classifier">bool (optional)</span></dt><dd><p>Attempt to keep the connection open to retrieve more URLs.
The return becomes a tuple of (data, conn) to return the
connection used so it can be used again. This mode does not
support proxies. Required to be True if conn is provided.
(Default False)</p>
</dd>
<dt><strong>conn</strong><span class="classifier">http.client.HTTPConnection (optional)</span></dt><dd><p>An established http connection (HTTPS is also okay) to use with
<code class="docutils literal notranslate"><span class="pre">keepalive</span></code>. If not provided, will attempt to make a connection.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bytes</dt><dd><p>The HTTP data from the server.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.progressbar" title="spacepy.toolbox.progressbar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">progressbar</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This function honors proxy settings as described in
<a class="reference external" href="https://docs.python.org/3/library/urllib.request.html#urllib.request.getproxies" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.request.getproxies()</span></code></a>. Cryptic error messages (such as
<code class="docutils literal notranslate"><span class="pre">Network</span> <span class="pre">is</span> <span class="pre">unreachable</span></code>) may indicate that proxy settings
should be defined as appropriate for your environment (e.g. with
<code class="docutils literal notranslate"><span class="pre">HTTP_PROXY</span></code> or <code class="docutils literal notranslate"><span class="pre">HTTPS_PROXY</span></code> environment variables).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.human_sort">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">human_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#human_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.human_sort" title="Link to this definition">¶</a></dt>
<dd><p>Sort the given list in the way that humans expect.
<a class="reference external" href="http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html">http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>l</strong><span class="classifier">list</span></dt><dd><p>list of objects to human sort</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>sorted list</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;r1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r10.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r2.txt&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dat</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">dat</span>
<span class="go">[&#39;r1.txt&#39;, &#39;r10.txt&#39;, &#39;r2.txt&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">human_sort</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span>
<span class="go">[&#39;r1.txt&#39;, &#39;r2.txt&#39;, &#39;r10.txt&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.hypot">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">hypot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#hypot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.hypot" title="Link to this definition">¶</a></dt>
<dd><p>compute the N-dimensional hypot of an iterable or many arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args</strong><span class="classifier">many numbers or array-like</span></dt><dd><p>array like or many inputs to compute from</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">float</span></dt><dd><p>N-dimensional hypot of a number</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl>
<dt>This function has a complicated speed function.</dt><dd><ul class="simple">
<li><p>if a numpy array of floats is input this is passed off to C</p></li>
<li><p>if iterables are passed in they are made into numpy arrays and comptaton is done local</p></li>
<li><p>if many scalar agruments are passed in calculation is done in a loop</p></li>
</ul>
</dd>
<dt>For max speed:</dt><dd><ul>
<li><dl>
<dt>&lt;20 elements expand them into scalars</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="o">*</span><span class="n">vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">...</span><span class="p">)</span> <span class="c1">#alternate</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p>&gt;20 elements premake them into a numpy array of doubles</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spacepy</span> <span class="kn">import</span> <span class="n">toolbox</span> <span class="k">as</span> <span class="n">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tb</span><span class="o">.</span><span class="n">hypot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tb</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Benchmark ####</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spacepy</span> <span class="kn">import</span> <span class="n">toolbox</span> <span class="k">as</span> <span class="n">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">timeit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_np</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_np_double</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_scalar</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tot</span> <span class="o">=</span> <span class="mi">500</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">tb</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s1">&#39;tb.hypot(a)&#39;</span><span class="p">,</span>
<span class="go">                        setup=&#39;from spacepy import toolbox as tb;</span>
<span class="go">                        import numpy as np; a = [3]*{0}&#39;.format(int(num)), number=10000))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s1">&#39;tb.hypot(a)&#39;</span><span class="p">,</span>
<span class="go">                      setup=&#39;from spacepy import toolbox as tb;</span>
<span class="go">                      import numpy as np; a = np.asarray([3]*{0})&#39;.format(int(num)), number=10000))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_scalar</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s1">&#39;tb.hypot(*a)&#39;</span><span class="p">,</span>
<span class="go">                          setup=&#39;from spacepy import toolbox as tb;</span>
<span class="go">                          import numpy as np; a = [3]*{0}&#39;.format(int(num)), number=10000))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loglog</span><span class="p">(</span><span class="n">tb</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>  <span class="n">num_list</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loglog</span><span class="p">(</span><span class="n">tb</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>  <span class="n">num_np</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;numpy-&gt;ctypes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loglog</span><span class="p">(</span><span class="n">tb</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>  <span class="n">num_scalar</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;scalar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">legend</span><span class="p">(</span><span class="n">shadow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fancybox</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Different hypot times for 10000 runs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Time [s]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/hypot_no_extension_speeds_3cases.png" src="../_images/hypot_no_extension_speeds_3cases.png" />
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.indsFromXrange">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">indsFromXrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inxrange</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#indsFromXrange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.indsFromXrange" title="Link to this definition">¶</a></dt>
<dd><p>return the start and end indices implied by a range, useful when range is zero-length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inxrange</strong><span class="classifier">range</span></dt><dd><p>input range object to parse</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of int</dt><dd><p>List of start, stop indices in the range. The return value is not
defined if a stride is specified or if stop is before start (but
will work when stop equals start).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">indsFromXrange</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="go">[23, 39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo1</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">indsFromXrange</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span> <span class="c1">#indexing won&#39;t work in this case</span>
<span class="go">[23, 23]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.interpol">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">interpol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#interpol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.interpol" title="Link to this definition">¶</a></dt>
<dd><p>1-D linear interpolation with interpolation of hours/longitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>newx</strong><span class="classifier">array_like</span></dt><dd><p>x values where we want the interpolated values</p>
</dd>
<dt><strong>x</strong><span class="classifier">array_like</span></dt><dd><p>x values of the original data (must be monotonically increasing or wrapping)</p>
</dd>
<dt><strong>y</strong><span class="classifier">array_like</span></dt><dd><p>y values of the original data</p>
</dd>
<dt><strong>wrap</strong><span class="classifier">string, optional</span></dt><dd><p>for continuous x data that wraps in y at ‘hours’ (24), ‘longitude’ (360),
or arbitrary value (int, float)</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>additional keywords, currently accepts baddata that sets baddata for
masked arrays</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">numpy.masked_array</span></dt><dd><p>interpolated data values for new abscissa values</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>For a simple interpolation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">interpol</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">array([ 0.5,  1.5,  2.5,  3.5,  4.5])</span>
</pre></div>
</div>
<p>To use the wrap functionality, without the wrap keyword you get the wrong answer</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">interpol</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span> <span class="mf">23.5</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="s1">&#39;hour&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compressed</span><span class="p">()</span> <span class="c1"># compress removed the masked array</span>
<span class="go">array([  1.5,  10.5,  23.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">interpol</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span> <span class="mf">23.5</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">array([  1.5,  10.5,  11.5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.interweave">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">interweave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#interweave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.interweave" title="Link to this definition">¶</a></dt>
<dd><p>given two array-like variables interweave them together.
Discussed here: <a class="reference external" href="http://stackoverflow.com/questions/5347065/interweaving-two-numpy-arrays">http://stackoverflow.com/questions/5347065/interweaving-two-numpy-arrays</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a</strong><span class="classifier">array-like</span></dt><dd><p>first array</p>
</dd>
<dt><strong>b</strong><span class="classifier">array-like</span></dt><dd><p>second array</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>interweaved array</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.intsolve">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">intsolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#intsolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.intsolve" title="Link to this definition">¶</a></dt>
<dd><p>Find the function input such that definite integral is desired value.</p>
<p>Given a function, integrate from an (optional) start point until the
integral reached a desired value, and return the end point of the
integration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">callable</span></dt><dd><p>function to integrate, must take single parameter</p>
</dd>
<dt><strong>value</strong><span class="classifier">float</span></dt><dd><p>desired final value of the integral</p>
</dd>
<dt><strong>start</strong><span class="classifier">float (optional)</span></dt><dd><p>value at which to start integration, default -Infinity</p>
</dd>
<dt><strong>stop</strong><span class="classifier">float (optional)</span></dt><dd><p>value at which to stop integration, default +Infinity</p>
</dd>
<dt><strong>maxit</strong><span class="classifier">integer</span></dt><dd><p>maximum number of iterations</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">float</span></dt><dd><p>x such that the integral of L{func} from L{start} to x is L{value}</p>
</dd>
<dt><strong>Note:</strong> Assumes func is everywhere positive, otherwise solution may</dt><dd><p>be multi-valued.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.isview">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">isview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#isview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.isview" title="Link to this definition">¶</a></dt>
<dd><p>Returns if an object is a view of another object.  More precisely if one array argument is specified
True is returned is the arrays owns its data.  If two arrays arguments are specified a tuple is returned
of if the first array owns its data and the the second if they point at the same memory location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>array1</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>array to query if it owns its data</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">bool or tuple</span></dt><dd><p>If one array is specified bool is returned, True is the array owns its data.  If two arrays
are specified a tuple where the second element is a bool of if the array point at the same
memory location</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Other Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>array2</strong><span class="classifier">object (optional)</span></dt><dd><p>array to query if array1 is a view of this object at the specified memory location</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>import numpy
import spacepy.toolbox as tb
a = numpy.arange(100)
b = a[0:10]
tb.isview(a)
# False
tb.isview(b)
# True
tb.isview(b, a)
# (True, True)
tb.isview(b, b)
# (True, True)  # the conditions are met and numpy cannot tell this</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.linspace">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">linspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#linspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.linspace" title="Link to this definition">¶</a></dt>
<dd><p>Returns linear-spaced bins. Same as numpy.linspace except works with datetime
and is faster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>min</strong><span class="classifier">float, datetime</span></dt><dd><p>minimum value</p>
</dd>
<dt><strong>max</strong><span class="classifier">float, datetime</span></dt><dd><p>maximum value</p>
</dd>
<dt><strong>num</strong><span class="classifier">integer</span></dt><dd><p>number of linear spaced bins</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">array</span></dt><dd><p>linear-spaced bins from min to max in a numpy array</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Other Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>additional keywords passed into matplotlib.dates.num2date</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.geomspace" title="spacepy.toolbox.geomspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geomspace</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.logspace" title="spacepy.toolbox.logspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logspace</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This function works on both numbers and datetime objects. Not leapsecond
aware.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([  1.,   4.,   7.,  10.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.loadpickle">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">loadpickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fln</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#loadpickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.loadpickle" title="Link to this definition">¶</a></dt>
<dd><p>load a pickle and return content as dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fln</strong><span class="classifier">string</span></dt><dd><p>filename</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">dict</span></dt><dd><p>dictionary with content from file</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.savepickle" title="spacepy.toolbox.savepickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">savepickle</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<dl class="simple">
<dt><strong>note</strong>: If fln is not found, but the same filename with ‘.gz’</dt><dd><p>is found, will attempt to open the .gz as a gzipped file.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">loadpickle</span><span class="p">(</span><span class="s1">&#39;test.pbin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.logspace">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">logspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#logspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.logspace" title="Link to this definition">¶</a></dt>
<dd><p>Returns log-spaced bins. Same as numpy.logspace except the min and max are the min and max
not log10(min) and log10(max)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>min</strong><span class="classifier">float</span></dt><dd><p>minimum value</p>
</dd>
<dt><strong>max</strong><span class="classifier">float</span></dt><dd><p>maximum value</p>
</dd>
<dt><strong>num</strong><span class="classifier">integer</span></dt><dd><p>number of log spaced bins</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">array</span></dt><dd><p>log-spaced bins from min to max in a numpy array</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Other Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>additional keywords passed into matplotlib.dates.num2date</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.geomspace" title="spacepy.toolbox.geomspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geomspace</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.linspace" title="spacepy.toolbox.linspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">linspace</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This function works on both numbers and datetime objects. Not leapsecond aware.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">array([   1.        ,    3.16227766,   10.        ,   31.6227766 ,  100.        ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.medAbsDev">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">medAbsDev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#medAbsDev"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.medAbsDev" title="Link to this definition">¶</a></dt>
<dd><p>Calculate median absolute deviation of a given input series</p>
<p>Median absolute deviation (MAD) is a robust and resistant measure of
the spread of a sample (same purpose as standard deviation). The
MAD is preferred to the inter-quartile range as the inter-quartile
range only shows 50% of the data whereas the MAD uses all data but
remains robust and resistant. See e.g. Wilks, Statistical methods
for the Atmospheric Sciences, 1995, Ch. 3. For additional details on 
the scaling, see Rousseeuw and Croux, J. Amer. Stat. Assoc., 88 (424),
pp. 1273-1283, 1993.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>series</strong><span class="classifier">array_like</span></dt><dd><p>the input data series</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">float</span></dt><dd><p>the median absolute deviation</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Other Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>scale</strong><span class="classifier">bool</span></dt><dd><p>if True (default: False), scale to standard deviation of a normal distribution</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Find the median absolute deviation of a data set. Here we use the log-
normal distribution fitted to the population of sawtooth intervals, see
Morley and Henderson, Comment, Geophysical Research Letters, 2009.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">8675301</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">lognormal</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mf">5.1458</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.302313</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span>
<span class="go">array([ 181.28078923,  131.18152745, ... , 141.15455416, 160.88972791])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">medAbsDev</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">28.346646721370192</span>
</pre></div>
</div>
<p><strong>note</strong> This implementation is robust to presence of NaNs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.mlt2rad">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">mlt2rad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mlt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midnight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#mlt2rad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.mlt2rad" title="Link to this definition">¶</a></dt>
<dd><p>Convert mlt values to radians for polar plotting
transform mlt angles to radians from -pi to pi
referenced from noon by default</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mlt</strong><span class="classifier">numpy array</span></dt><dd><p>array of mlt values</p>
</dd>
<dt><strong>midnight</strong><span class="classifier">boolean (optional)</span></dt><dd><p>reference to midnight instead of noon</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">numpy array</span></dt><dd><p>array of radians</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.rad2mlt" title="spacepy.toolbox.rad2mlt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rad2mlt</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlt2rad</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">22</span><span class="p">]))</span>
<span class="go">array([-2.35619449, -1.57079633, -0.78539816,  0.52359878,  2.61799388])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.normalize">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.normalize" title="Link to this definition">¶</a></dt>
<dd><p>Given an input vector normalize the vector to a given range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vec</strong><span class="classifier">array_like</span></dt><dd><p>input vector to normalize</p>
</dd>
<dt><strong>low</strong><span class="classifier">float</span></dt><dd><p>minimum value to scale to, default 0.0</p>
</dd>
<dt><strong>high</strong><span class="classifier">float</span></dt><dd><p>maximum value to scale to, default 1.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">array_like</span></dt><dd><p>normalized vector</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[0.0, 0.5, 1.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.pmm">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">pmm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#pmm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.pmm" title="Link to this definition">¶</a></dt>
<dd><p>print min and max of input arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a</strong><span class="classifier">array-like</span></dt><dd><p>arbitrary number of input arrays (or lists)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>list of min, max for each array</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">arange</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">pmm</span><span class="p">(</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[[0, 9], [3, 12]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.poisson_fit">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">poisson_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Powell'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#poisson_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.poisson_fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit a Poisson distribution to data using the method and initial guess provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">array-like</span></dt><dd><p>Data to fit a Poisson distribution to.</p>
</dd>
<dt><strong>initial</strong><span class="classifier">int or None</span></dt><dd><p>initial guess for the fit, if None np.median(data) is used</p>
</dd>
<dt><strong>method</strong><span class="classifier">str</span></dt><dd><p>method passed to scipy.optimize.minimize, default=’Powell’</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">scipy.optimize.optimize.OptimizeResult</span></dt><dd><p>Resulting fit results from scipy.optimize, answer is result.x,
user should likely round.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">poisson</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">poisson</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">poisson_fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="go">19.718000038769095</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">xvals</span><span class="p">,</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">poisson</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.progressbar">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">progressbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocksize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">totalsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Download</span> <span class="pre">Progress'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#progressbar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.progressbar" title="Link to this definition">¶</a></dt>
<dd><p>print a progress bar with urllib.urlretrieve reporthook functionality</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;psddata_url&#39;</span><span class="p">],</span> <span class="n">PSDdata_fname</span><span class="p">,</span> <span class="n">reporthook</span><span class="o">=</span><span class="n">tb</span><span class="o">.</span><span class="n">progressbar</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.query_yes_no">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">query_yes_no</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yes'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#query_yes_no"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.query_yes_no" title="Link to this definition">¶</a></dt>
<dd><p>Ask a yes/no question via raw_input() and return their answer.</p>
<p>“question” is a string that is presented to the user.
“default” is the presumed answer if the user just hits &lt;Enter&gt;.
It must be “yes” (the default), “no” or None (meaning
an answer is required of the user).</p>
<p>The “answer” return value is one of “yes” or “no”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>question</strong><span class="classifier">str</span></dt><dd><p>the question to ask</p>
</dd>
<dt><strong>default</strong><span class="classifier">str (optional)</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">str</span></dt><dd><p>answer (‘yes’ or ‘no’)</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>The default answer is not in (None|”yes”|”no”)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">query_yes_no</span><span class="p">(</span><span class="s1">&#39;Ready to go?&#39;</span><span class="p">)</span>
<span class="go">Ready to go? [Y/n] y</span>
<span class="go">&#39;yes&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.rad2mlt">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">rad2mlt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midnight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#rad2mlt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.rad2mlt" title="Link to this definition">¶</a></dt>
<dd><p>Convert radians values to mlt
transform radians from -pi to pi to mlt
referenced from noon by default</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>rad</strong><span class="classifier">numpy array</span></dt><dd><p>array of radian values</p>
</dd>
<dt><strong>midnight</strong><span class="classifier">boolean (optional)</span></dt><dd><p>reference to midnight instead of noon</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">numpy array</span></dt><dd><p>array of mlt values</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.mlt2rad" title="spacepy.toolbox.mlt2rad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mlt2rad</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rad2mlt</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mf">2.</span><span class="p">]))</span>
<span class="go">array([ 12.,  24.,  18.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.savepickle">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">savepickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fln</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#savepickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.savepickle" title="Link to this definition">¶</a></dt>
<dd><p>save dictionary variable dict to a pickle with filename fln</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fln</strong><span class="classifier">string</span></dt><dd><p>filename</p>
</dd>
<dt><strong>dict</strong><span class="classifier">dict</span></dt><dd><p>container with stuff</p>
</dd>
<dt><strong>compress</strong><span class="classifier">bool</span></dt><dd><dl class="simple">
<dt>write as a gzip-compressed file</dt><dd><p>(.gz will be added to <code class="docutils literal notranslate"><span class="pre">fln</span></code>).
If not specified, defaults to uncompressed, unless the
compressed file exists and the uncompressed does not.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.loadpickle" title="spacepy.toolbox.loadpickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadpickle</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;grade&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;name&#39;</span><span class="p">:[</span><span class="s1">&#39;Mary&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;Chris&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">savepickle</span><span class="p">(</span><span class="s1">&#39;test.pbin&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.tCommon">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">tCommon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#tCommon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.tCommon" title="Link to this definition">¶</a></dt>
<dd><p>Finds the elements in a list of datetime objects present in another</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ts1</strong><span class="classifier">list or array-like</span></dt><dd><p>first set of datetime objects</p>
</dd>
<dt><strong>ts2</strong><span class="classifier">list or array-like</span></dt><dd><p>second set of datetime objects</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">tuple</span></dt><dd><p>Two element tuple of truth tables (of 1 present in 2, &amp; vice versa)</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.tOverlapHalf" title="spacepy.toolbox.tOverlapHalf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlapHalf</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.tOverlap" title="spacepy.toolbox.tOverlap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlap</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="n">dt</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="n">dt</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_inds</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tCommon</span><span class="p">(</span><span class="n">ts1</span><span class="p">,</span> <span class="n">ts2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_inds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#mask of values in ts1 common with ts2</span>
<span class="go">array([False, False,  True,  True,  True,  True,  True,  True,  True,</span>
<span class="go">        True,  True,  True, False, False, False, False, False, False,</span>
<span class="go">       False, False], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts2</span><span class="p">[</span><span class="n">common_inds</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="c1">#values of ts2 also in ts1</span>
</pre></div>
</div>
<p>The latter can be found more simply by setting the mask_only keyword to False</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common_vals</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tCommon</span><span class="p">(</span><span class="n">ts1</span><span class="p">,</span> <span class="n">ts2</span><span class="p">,</span> <span class="n">mask_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">array([2001-03-10 02:00:00, 2001-03-10 03:00:00, 2001-03-10 04:00:00,</span>
<span class="go">       2001-03-10 05:00:00, 2001-03-10 06:00:00, 2001-03-10 07:00:00,</span>
<span class="go">       2001-03-10 08:00:00, 2001-03-10 09:00:00, 2001-03-10 10:00:00,</span>
<span class="go">       2001-03-10 11:00:00], dtype=object)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.tOverlap">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">tOverlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#tOverlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.tOverlap" title="Link to this definition">¶</a></dt>
<dd><p>Finds the overlapping elements in two lists of datetime objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ts1</strong><span class="classifier">datetime</span></dt><dd><p>first set of datetime object</p>
</dd>
<dt><strong>ts2</strong><span class="classifier">datetime</span></dt><dd><p>datatime object</p>
</dd>
<dt><strong>args</strong></dt><dd><p>additional arguments passed to tOverlapHalf</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>indices of ts1 within interval of ts2, &amp; vice versa</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.tOverlapHalf" title="spacepy.toolbox.tOverlapHalf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlapHalf</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.tCommon" title="spacepy.toolbox.tCommon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tCommon</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Given two series of datetime objects, event_dates and omni[‘Time’]:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spacepy</span> <span class="kn">import</span> <span class="n">omni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event_dates</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">tickrange</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">deltadays</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onni_dates</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">tickrange</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">deltadays</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omni</span> <span class="o">=</span> <span class="n">omni</span><span class="o">.</span><span class="n">get_omni</span><span class="p">(</span><span class="n">onni_dates</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">einds</span><span class="p">,</span><span class="n">oinds</span><span class="p">]</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tOverlap</span><span class="p">(</span><span class="n">event_dates</span><span class="p">,</span> <span class="n">omni</span><span class="p">[</span><span class="s1">&#39;ticks&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omni_time</span> <span class="o">=</span> <span class="n">omni</span><span class="p">[</span><span class="s1">&#39;ticks&#39;</span><span class="p">][</span><span class="n">oinds</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">oinds</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">omni_time</span>
<span class="go">[datetime.datetime(2000, 1, 1, 0, 0), datetime.datetime(2000, 1, 1, 12, 0),</span>
<span class="go">... , datetime.datetime(2000, 9, 30, 0, 0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.tOverlapHalf">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">tOverlapHalf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#tOverlapHalf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.tOverlapHalf" title="Link to this definition">¶</a></dt>
<dd><p>Find overlapping elements in two lists of datetime objects</p>
<p>This is one-half of tOverlap, i.e. it finds only occurrences where
ts2 exists within the bounds of ts1, or the second element
returned by tOverlap.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ts1</strong><span class="classifier">list</span></dt><dd><p>first set of datetime object</p>
</dd>
<dt><strong>ts2</strong><span class="classifier">list</span></dt><dd><p>datatime object</p>
</dd>
<dt><strong>presort</strong><span class="classifier">bool</span></dt><dd><dl class="simple">
<dt>Set to use a faster algorithm which assumes ts1 and</dt><dd><p>ts2 are both sorted in ascending order. This speeds up
the overlap comparison by about 50x, so it is worth sorting
the list if one sort can be done for many calls to tOverlap</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>indices of ts2 within interval of ts1</p>
<p><strong>note:</strong> Returns empty list if no overlap found</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.tOverlap" title="spacepy.toolbox.tOverlap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tOverlap</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#spacepy.toolbox.tCommon" title="spacepy.toolbox.tCommon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tCommon</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.thread_job">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">thread_job</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#thread_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.thread_job" title="Link to this definition">¶</a></dt>
<dd><p>Split a job into subjobs and run a thread for each</p>
<p>Each thread spawned will call L{target} to handle a slice of the job.</p>
<dl class="simple">
<dt>This is only useful if a job:</dt><dd><ol class="arabic simple">
<li><p>Can be split into completely independent subjobs</p></li>
<li><p>Relies heavily on code that does not use the Python GIL, e.g.
numpy or ctypes code</p></li>
<li><p>Does not return a value. Either pass in a list/array to hold the
result, or see L{thread_map}</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>job_size</strong><span class="classifier">int</span></dt><dd><p>Total size of the job. Often this is an array size.</p>
</dd>
<dt><strong>thread_count</strong><span class="classifier">int</span></dt><dd><dl class="simple">
<dt>Number of threads to spawn. If =0 or None, will</dt><dd><p>spawn as many threads as there are cores available on
the system. (Each hyperthreading core counts as 2.)
Generally this is the Right Thing to do.
If NEGATIVE, will spawn abs(thread_count) threads,
but will run them sequentially rather than in
parallel; useful for debugging.</p>
</dd>
</dl>
</dd>
<dt><strong>target</strong><span class="classifier">callable</span></dt><dd><dl class="simple">
<dt>Python callable (generally a function, may also be an</dt><dd><p>imported ctypes function) to run in each thread. The
<em>last</em> two positional arguments passed in will be a
“start” and a “subjob size,” respectively;
frequently this will be the start index and the number
of elements to process in an array.</p>
</dd>
</dl>
</dd>
<dt><strong>args</strong><span class="classifier">sequence</span></dt><dd><dl class="simple">
<dt>Arguments to pass to L{target}. If L{target} is an instance</dt><dd><p>method, self must be explicitly passed in. start and
subjob_size will be appended.</p>
</dd>
</dl>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>keyword arguments to pass to L{target}.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>squaring 100 million numbers:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">8675301</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">[</span><span class="mi">100000000</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="mi">100000000</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">targ</span><span class="p">(</span><span class="n">in_array</span><span class="p">,</span> <span class="n">out_array</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>              <span class="n">out_array</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">start</span> <span class="o">+</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">in_array</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">start</span> <span class="o">+</span> <span class="n">count</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">thread_job</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">targ</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<span class="go">[2704 7225  196 1521   36]</span>
</pre></div>
</div>
<dl class="simple">
<dt>This example:</dt><dd><ul class="simple">
<li><p>Defines a target function, which will be called for each thread.
It is usually necessary to define a simple “wrapper” function
like this to provide the correct call signature.</p></li>
<li><p>The target function receives inputs C{in_array} and C{out_array},
which are not touched directly by C{thread_job} but are passed
through in the call. In this case, C{a} gets passed as
C{in_array} and C{b} as C{out_array}</p></li>
<li><p>The target function also receives the start and number of elements
it needs to process. For each thread where the target is called,
these numbers are different.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.thread_map">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">thread_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#thread_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.thread_map" title="Link to this definition">¶</a></dt>
<dd><p>Apply a function to every element of a list, in separate threads</p>
<p>Interface is similar to multiprocessing.map, except it runs in threads</p>
<p>This is made largely obsolete in python3 by from concurrent import futures</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>target</strong><span class="classifier">callable</span></dt><dd><dl class="simple">
<dt>Python callable to run on each element of iterable.</dt><dd><p>For each call, an element of iterable is appended to
args and both args and kwargs are passed through.
Note that this means the iterable element is always the
<em>last</em> positional argument; this allows the specification
of self as the first argument for method calls.</p>
</dd>
</dl>
</dd>
<dt><strong>iterable</strong><span class="classifier">iterable</span></dt><dd><p>elements to pass to each call of L{target}</p>
</dd>
<dt><strong>args</strong><span class="classifier">sequence</span></dt><dd><dl class="simple">
<dt>arguments to pass to target before each element of</dt><dd><p>iterable</p>
</dd>
</dl>
</dd>
<dt><strong>thread_count</strong><span class="classifier">integer</span></dt><dd><p>Number of threads to spawn; see L{thread_job}.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>keyword arguments to pass to L{target}.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">list</span></dt><dd><p>return values of L{target} for each item from L{iterable}</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>find totals of several arrays</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spacepy</span> <span class="kn">import</span> <span class="n">toolbox</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">totals</span> <span class="o">=</span> <span class="n">toolbox</span><span class="o">.</span><span class="n">thread_map</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sum</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">totals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">totals</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span> <span class="n">totals</span><span class="p">[</span><span class="mi">99</span><span class="p">])</span>
<span class="go">(0, 50, 99)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># in python3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">concurrent</span> <span class="kn">import</span> <span class="n">futures</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
<span class="go">...:     for ans in executor.map(numpy.sum, [0,50,99]):</span>
<span class="go">...:         print ans</span>
<span class="go">#0</span>
<span class="go">#50</span>
<span class="go">#99</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.timeout_check_call">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">timeout_check_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#timeout_check_call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.timeout_check_call" title="Link to this definition">¶</a></dt>
<dd><p>Call a subprocess with a timeout.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.7.0: </span>Use <code class="docutils literal notranslate"><span class="pre">timeout</span></code> argument of <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.check_call" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.check_call()</span></code></a>, added
in Python 3.3.</p>
</div>
<p>Like <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.check_call" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.check_call()</span></code></a>, but will terminate the process and
raise <a class="reference internal" href="#spacepy.toolbox.TimeoutError" title="spacepy.toolbox.TimeoutError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutError</span></code></a> if it runs for too long.</p>
<p>This will only terminate the single process started; any child processes
will remain running (this has implications for, say, spawing shells.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>timeout</strong><span class="classifier">float</span></dt><dd><p>Timeout, in seconds. Fractions are acceptable but the resolution is of
order 100ms.</p>
</dd>
<dt><strong>args</strong><span class="classifier">sequence</span></dt><dd><p>Arguments passed through to <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a></p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>keyword arguments to pass to <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">int</span></dt><dd><p>0 on successful completion</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>TimeoutError</dt><dd><p>If subprocess does not return in <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds.</p>
</dd>
<dt>CalledProcessError</dt><dd><p>If command has non-zero exit status</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">timeout_check_call</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sleep 30&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#raises TimeoutError</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.unique_columns">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">unique_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#unique_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.unique_columns" title="Link to this definition">¶</a></dt>
<dd><p>Given a multidimensional input return the unique rows or columns along the given axis.
Based largely on <a class="reference external" href="http://stackoverflow.com/questions/16970982/find-unique-rows-in-numpy-array">http://stackoverflow.com/questions/16970982/find-unique-rows-in-numpy-array</a>
axis=0 is unique rows, axis=1 is unique columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inval</strong><span class="classifier">array-like</span></dt><dd><p>array to find unique columns or rows of</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">array</span></dt><dd><p>N-dimensional array of the unique values along the axis</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Other Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axis</strong><span class="classifier">int</span></dt><dd><p>The axis to find unique over, default: 0</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.update">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QDomni</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omni</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omni2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leapsecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PSDdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.update" title="Link to this definition">¶</a></dt>
<dd><p>Download and update local database for omni, leapsecs etc</p>
<p>Web access is via <a class="reference internal" href="#spacepy.toolbox.get_url" title="spacepy.toolbox.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_url()</span></code></a>; notes there may be helpful in
debugging errors. See also the <code class="docutils literal notranslate"><span class="pre">keepalive</span></code> configuration option.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>all</strong><span class="classifier">boolean (optional)</span></dt><dd><p>if True, update OMNI2, Qin-Denton and leapsecs</p>
</dd>
<dt><strong>omni</strong><span class="classifier">boolean (optional)</span></dt><dd><p>if True. update only omni (Qin-Denton)</p>
</dd>
<dt><strong>omni2</strong><span class="classifier">boolean (optional)</span></dt><dd><p>if True, update only original OMNI2</p>
</dd>
<dt><strong>QDomni</strong><span class="classifier">boolean (optional)</span></dt><dd><p>if True, update OMNI2 and Qin-Denton</p>
</dd>
<dt><strong>leapsecs</strong><span class="classifier">boolean (optional)</span></dt><dd><p>if True, update only leapseconds</p>
</dd>
<dt><strong>cached</strong><span class="classifier">boolean (optional)</span></dt><dd><p>Only update files if timestamp on server is newer than
timestamp on local file (default). Set False to always
download files.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">string</span></dt><dd><p>data directory where things are saved</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#spacepy.toolbox.get_url" title="spacepy.toolbox.get_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_url</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">omni</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spacepy.toolbox.windowMean">
<span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">windowMean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time=[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winsize=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">st_time=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op=&lt;function</span> <span class="pre">mean&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spacepy/toolbox.html#windowMean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.windowMean" title="Link to this definition">¶</a></dt>
<dd><p>Windowing mean function, window overlap is user defined</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">array_like</span></dt><dd><p>1D series of points</p>
</dd>
<dt><strong>time</strong><span class="classifier">list (optional)</span></dt><dd><p>series of timestamps, optional (format as numeric or datetime)
For non-overlapping windows set overlap to zero. Must be same length as
data.</p>
</dd>
<dt><strong>winsize</strong><span class="classifier">integer or datetime.timedelta (optional)</span></dt><dd><p>window size</p>
</dd>
<dt><strong>overlap</strong><span class="classifier">integer or datetime.timedelta (optional)</span></dt><dd><p>amount of window overlap</p>
</dd>
<dt><strong>st_time</strong><span class="classifier">datetime.datetime (optional)</span></dt><dd><p>for time-based averaging, a start-time other than the first
point can be specified</p>
</dd>
<dt><strong>op</strong><span class="classifier">callable (optional)</span></dt><dd><p>the operator to be called, default numpy.mean</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">tuple</span></dt><dd><p>the windowed mean of the data, and an associated reference time vector</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>For non-overlapping windows set overlap to zero.
e.g. (time-based averaging)
Given a data set of 100 points at hourly resolution (with the time tick in
the middle of the sample), the daily average of this, with half-overlapping
windows is calculated:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">spacepy.toolbox</span> <span class="k">as</span> <span class="nn">tb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsize</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">olap</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">minutes</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outdata</span><span class="p">,</span> <span class="n">outtime</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">windowMean</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">winsize</span><span class="o">=</span><span class="n">wsize</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="n">olap</span><span class="p">,</span> <span class="n">st_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outdata</span><span class="p">,</span> <span class="n">outtime</span>
<span class="go">([15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0],</span>
<span class="go"> [datetime.datetime(2001, 1, 1, 12, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 2, 0, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 2, 12, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 3, 0, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 3, 12, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 4, 0, 0),</span>
<span class="go">  datetime.datetime(2001, 1, 4, 12, 0)])</span>
</pre></div>
</div>
<p>When using time-based averaging, ensure that the time tick corresponds to
the middle of the time-bin to which the data apply. That is, if the data
are hourly, say for 00:00-01:00, then the time applied should be 00:30.
If this is not done, unexpected behaviour can result.</p>
<p>e.g. (pointwise averaging),</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outdata</span><span class="p">,</span> <span class="n">outtime</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">windowMean</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">winsize</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outdata</span><span class="p">,</span> <span class="n">outtime</span>
<span class="go">([15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0], [12.0, 24.0, 36.0, 48.0, 60.0, 72.0, 84.0])</span>
</pre></div>
</div>
<p>where winsize and overlap are numeric,
in this example the window size is 24 points (as the data are hourly) and
the overlap is 12 points (a half day). The output vectors start at
winsize/2 and end at N-(winsize/2), the output time vector
is basically a reference to the nth point in the original series.</p>
<p><strong>note</strong> This is a quick and dirty function - it is NOT optimized, at all.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spacepy.toolbox.TimeoutError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spacepy.toolbox.</span></span><span class="sig-name descname"><span class="pre">TimeoutError</span></span><a class="reference internal" href="../_modules/spacepy/toolbox.html#TimeoutError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spacepy.toolbox.TimeoutError" title="Link to this definition">¶</a></dt>
<dd><p>Raised when a time-limited process times out</p>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">spacepy.toolbox</a><ul>
<li><a class="reference internal" href="#spacepy.toolbox.arraybin"><code class="docutils literal notranslate"><span class="pre">arraybin()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.assemble"><code class="docutils literal notranslate"><span class="pre">assemble()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.binHisto"><code class="docutils literal notranslate"><span class="pre">binHisto()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.bin_center_to_edges"><code class="docutils literal notranslate"><span class="pre">bin_center_to_edges()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.bin_edges_to_center"><code class="docutils literal notranslate"><span class="pre">bin_edges_to_center()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.bootHisto"><code class="docutils literal notranslate"><span class="pre">bootHisto()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.dictree"><code class="docutils literal notranslate"><span class="pre">dictree()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.dist_to_list"><code class="docutils literal notranslate"><span class="pre">dist_to_list()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.do_with_timeout"><code class="docutils literal notranslate"><span class="pre">do_with_timeout()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.eventTimer"><code class="docutils literal notranslate"><span class="pre">eventTimer()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.geomspace"><code class="docutils literal notranslate"><span class="pre">geomspace()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.getNamedPath"><code class="docutils literal notranslate"><span class="pre">getNamedPath()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.get_url"><code class="docutils literal notranslate"><span class="pre">get_url()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.human_sort"><code class="docutils literal notranslate"><span class="pre">human_sort()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.hypot"><code class="docutils literal notranslate"><span class="pre">hypot()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.indsFromXrange"><code class="docutils literal notranslate"><span class="pre">indsFromXrange()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.interpol"><code class="docutils literal notranslate"><span class="pre">interpol()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.interweave"><code class="docutils literal notranslate"><span class="pre">interweave()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.intsolve"><code class="docutils literal notranslate"><span class="pre">intsolve()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.isview"><code class="docutils literal notranslate"><span class="pre">isview()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.linspace"><code class="docutils literal notranslate"><span class="pre">linspace()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.loadpickle"><code class="docutils literal notranslate"><span class="pre">loadpickle()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.logspace"><code class="docutils literal notranslate"><span class="pre">logspace()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.medAbsDev"><code class="docutils literal notranslate"><span class="pre">medAbsDev()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.mlt2rad"><code class="docutils literal notranslate"><span class="pre">mlt2rad()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.normalize"><code class="docutils literal notranslate"><span class="pre">normalize()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.pmm"><code class="docutils literal notranslate"><span class="pre">pmm()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.poisson_fit"><code class="docutils literal notranslate"><span class="pre">poisson_fit()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.progressbar"><code class="docutils literal notranslate"><span class="pre">progressbar()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.query_yes_no"><code class="docutils literal notranslate"><span class="pre">query_yes_no()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.rad2mlt"><code class="docutils literal notranslate"><span class="pre">rad2mlt()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.savepickle"><code class="docutils literal notranslate"><span class="pre">savepickle()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.tCommon"><code class="docutils literal notranslate"><span class="pre">tCommon()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.tOverlap"><code class="docutils literal notranslate"><span class="pre">tOverlap()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.tOverlapHalf"><code class="docutils literal notranslate"><span class="pre">tOverlapHalf()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.thread_job"><code class="docutils literal notranslate"><span class="pre">thread_job()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.thread_map"><code class="docutils literal notranslate"><span class="pre">thread_map()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.timeout_check_call"><code class="docutils literal notranslate"><span class="pre">timeout_check_call()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.unique_columns"><code class="docutils literal notranslate"><span class="pre">unique_columns()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.update"><code class="docutils literal notranslate"><span class="pre">update()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.windowMean"><code class="docutils literal notranslate"><span class="pre">windowMean()</span></code></a></li>
<li><a class="reference internal" href="#spacepy.toolbox.TimeoutError"><code class="docutils literal notranslate"><span class="pre">TimeoutError</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="spacepy.time.Ticktock.html"
                          title="previous chapter">spacepy.time.Ticktock</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="spacepy.toolbox.LinkExtracter.html"
                          title="next chapter">spacepy.toolbox.LinkExtracter</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/autosummary/spacepy.toolbox.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spacepy.toolbox.LinkExtracter.html" title="spacepy.toolbox.LinkExtracter"
             >next</a> |</li>
        <li class="right" >
          <a href="spacepy.time.Ticktock.html" title="spacepy.time.Ticktock"
             >previous</a> |</li>
        <li><a href="https://spacepy.github.io/"">homepage</a>|&nbsp;</li>
        <li><a href="https://github.com/spacepy/spacepy">development</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="spacepy.html" >spacepy</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">spacepy.toolbox</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2011-2024, The SpacePy Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>